# See http://www.mutt.org/doc/manual/#variables for all available options.
reset all
unhook *

set quit = yes      # Quit without confirmation
set delete = yes    # Delete (expunge) without confirmation
set move = no       # Never move messages off the server
set sleep_time = 0  # Make folder switching faster
set recall = no     # Don't ask to recall messages by default
set beep = yes      # Beep on errors
set beep_new = yes  # Beep on new messages

set folder_format = "%C %t%N %F %-8.8u %-8.8g %8s %d %f"
set index_format = "%4C %Z %d  %-23.23n  %s"
set date_format = "%Y-%m-%d  %H:%M:%S"
#set arrow_cursor = yes

# Open last email on entering folder, then jump to first unread (if present)
folder-hook . 'exec next-unread'
folder-hook . 'exec last-entry'

# Sort by theads, with thread which last received a message coming first
set sort = threads 
set sort_aux = last-date-sent

unset hidden_host        # don't skip the host name part of hostname
unset hide_limited       # don't hide presence of missing messages in thread
unset hide_missing       # don't hide messages hidden by limit in thread
unset hide_top_limited   # don't hide hide missing messages at top of thread
unset hide_top_missing   # hide messages hidden by limit at top of thread

# Header display/sort order
ignore *
unignore  Date To From Cc Subject X-Mailer Organization User-Agent X-Spam-Status Return-Path
hdr_order Date From Organization Cc To Subject X-Spam-Status X-Mailer User-Agent Return-Path

set wrap = 80
set smart_wrap
set markers = no

auto_view text/html
alternative_order text/plain text/html
# Don't jump to the next message when reaching bottom of current
# one in pager
set pager_stop
# Add Mail-Followup-To header
set followup_to
# Don't hide message subject in threads
unset hide_thread_subject

# Display messages as scrollable list instead of separate pages
set menu_scroll

# activate TLS if available on the server
set ssl_starttls=yes
# always use TLS when connecting to a server
set ssl_force_tls=yes

unset abort_nosubject
unset abort_unmodified
set edit_headers = yes  # Allow editing headers during composition

set include = yes      # Quote message when replying
set text_flowed = yes  # Enable format=flowed (https://joeclark.org/ffaq.html)

set fast_reply=yes     # Compose reply without prompting
set forward_format="Fwd: %s"
set mime_forward = ask-yes

set sidebar_width=25
set sidebar_visible=no
set sidebar_divider_char = '|'
# color of folders with new mail 
#color sidebar_new yellow default
set sidebar_short_path = yes
set sidebar_delim_chars = '/.'
set sidebar_folder_indent = yes
set sidebar_indent_string = '  '
set sidebar_next_new_wrap = yes
set sidebar_sort_method = 'unsorted'

set wrap_search

# Check for new mail in open mailbox (mbox/maildir only)
set check_new
set mail_check=30
# Execute mail_check after this many seconds of keyboard inactivity
set timeout=30
# Don't mark messages as old

unset mark_old
set sig_dashes="no"

set header_cache=$HOME/.muttcache/
set message_cachedir=$HOME/.muttcache/

set query_command = "abook --mutt-query '%s'"

# Don't save outgoing attachments
#unset fcc_attach
unset confirmappend

# IMAP settings
# Aggressive keepalives to prevent imap connection being closed
# by crappy NAT routers
set imap_keepalive = 900
set imap_list_subscribed
set imap_check_subscribed
