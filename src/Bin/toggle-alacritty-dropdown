#!/bin/sh

APP_ID=Alacritty-dropdown

pgrep -u $UID -f "Alacritty-dropdown" || exec alacritty --class "$APP_ID" --command tmuxsession default

if [ -e $TMPDIR/alacritty-dropdown.visible ]; then
	swaymsg '[con_mark="dropdown-terminal"] move absolute position -10000 -10000'
	rm -f $TMPDIR/alacritty-dropdown.visible
else
	swaymsg '[con_mark="dropdown-terminal"] focus, move position center'
	touch $TMPDIR/alacritty-dropdown.visible
fi
